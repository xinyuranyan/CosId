(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{433:function(t,e,a){"use strict";a.r(e);var s=a(17),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"segmentid-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#segmentid-配置"}},[t._v("#")]),t._v(" SegmentId 配置")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enabled")]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[t._v("是否启用")]),t._v(" "),a("td",[a("code",[t._v("false")])])]),t._v(" "),a("tr",[a("td",[t._v("mode")]),t._v(" "),a("td",[a("code",[t._v("Mode")])]),t._v(" "),a("td",[t._v("号段生成器模式："),a("code",[t._v("DEFAULT")]),t._v("/ "),a("code",[t._v("CHAIN")])]),t._v(" "),a("td",[a("code",[t._v("CHAIN")])])]),t._v(" "),a("tr",[a("td",[t._v("ttl")]),t._v(" "),a("td",[a("code",[t._v("long")])]),t._v(" "),a("td",[t._v("号段的生存期（秒）")]),t._v(" "),a("td",[a("code",[t._v("TIME_TO_LIVE_FOREVER")])])]),t._v(" "),a("tr",[a("td",[t._v("distributor")]),t._v(" "),a("td",[a("code",[t._v("Distributor")])]),t._v(" "),a("td",[t._v("号段分发器")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("chain")]),t._v(" "),a("td",[a("code",[t._v("Chain")])]),t._v(" "),a("td",[t._v("号段链模式配置")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("share")]),t._v(" "),a("td",[a("code",[t._v("IdDefinition")])]),t._v(" "),a("td",[t._v("共享ID生成器配置")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("provider")]),t._v(" "),a("td",[a("code",[t._v("Map<String, IdDefinition>")])]),t._v(" "),a("td",[t._v("多ID生成器配置")]),t._v(" "),a("td")])])]),t._v(" "),a("h2",{attrs:{id:"distributor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#distributor"}},[t._v("#")]),t._v(" Distributor")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties.Distributor")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[a("code",[t._v("Distributor.Type")])]),t._v(" "),a("td",[t._v("号段分发器类型： "),a("code",[t._v("REDIS")]),t._v("/"),a("code",[t._v("JDBC")]),t._v("/"),a("code",[t._v("ZOOKEEPER")])]),t._v(" "),a("td",[a("code",[t._v("Type.REDIS")])])]),t._v(" "),a("tr",[a("td",[t._v("jdbc")]),t._v(" "),a("td",[a("code",[t._v("Distributor.Jdbc")])]),t._v(" "),a("td",[t._v("Jdbc号段生成器配置")]),t._v(" "),a("td")])])]),t._v(" "),a("h3",{attrs:{id:"distributor-jdbc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#distributor-jdbc"}},[t._v("#")]),t._v(" Distributor.Jdbc")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enable-auto-init-cosid-table")]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[t._v("自动创建号段"),a("code",[t._v("cosid")]),t._v("表")]),t._v(" "),a("td",[a("code",[t._v("false")])])]),t._v(" "),a("tr",[a("td",[t._v("enable-auto-init-id-segment")]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[t._v("自动创建号段行")]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h2",{attrs:{id:"chain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chain"}},[t._v("#")]),t._v(" Chain")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties.Chain")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("safe-distance")]),t._v(" "),a("td",[a("code",[t._v("int")])]),t._v(" "),a("td",[t._v("安全距离")]),t._v(" "),a("td",[a("code",[t._v("10")])])]),t._v(" "),a("tr",[a("td",[t._v("prefetch-worker")]),t._v(" "),a("td",[a("code",[t._v("Chain.PrefetchWorker")])]),t._v(" "),a("td",[t._v("号段预取工作者线程池")]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h3",{attrs:{id:"chain-prefetchworker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chain-prefetchworker"}},[t._v("#")]),t._v(" Chain.PrefetchWorker")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("prefetch-period")]),t._v(" "),a("td",[a("code",[t._v("Duration")])]),t._v(" "),a("td",[t._v("预取周期")]),t._v(" "),a("td",[a("code",[t._v("Duration.ofSeconds(1)")])])]),t._v(" "),a("tr",[a("td",[t._v("core-pool-size")]),t._v(" "),a("td",[a("code",[t._v("int")])]),t._v(" "),a("td",[t._v("线程池大小")]),t._v(" "),a("td",[a("code",[t._v("Runtime.getRuntime().availableProcessors()")])])])])]),t._v(" "),a("h2",{attrs:{id:"iddefinition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iddefinition"}},[t._v("#")]),t._v(" IdDefinition")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties.IdDefinition")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("说明")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("mode")]),t._v(" "),a("td",[a("code",[t._v("Mode")])]),t._v(" "),a("td",[t._v("号段生成器模式："),a("code",[t._v("DEFAULT")]),t._v("/ "),a("code",[t._v("CHAIN")])]),t._v(" "),a("td",[a("code",[t._v("cosid.segment.mode")])])]),t._v(" "),a("tr",[a("td",[t._v("offset")]),t._v(" "),a("td",[a("code",[t._v("int")])]),t._v(" "),a("td",[t._v("号段初始偏移量")]),t._v(" "),a("td",[a("code",[t._v("0")])])]),t._v(" "),a("tr",[a("td",[t._v("step")]),t._v(" "),a("td",[a("code",[t._v("long")])]),t._v(" "),a("td",[t._v("步长")]),t._v(" "),a("td",[t._v("100")])]),t._v(" "),a("tr",[a("td",[t._v("ttl")]),t._v(" "),a("td",[a("code",[t._v("long")])]),t._v(" "),a("td",[t._v("号段的生存期（秒）")]),t._v(" "),a("td",[a("code",[t._v("cosid.segment.ttl")])])]),t._v(" "),a("tr",[a("td",[t._v("chain")]),t._v(" "),a("td",[a("code",[t._v("Chain")])]),t._v(" "),a("td",[t._v("号段链模式配置")]),t._v(" "),a("td",[a("code",[t._v("cosid.segment.chain")])])]),t._v(" "),a("tr",[a("td",[t._v("converter")]),t._v(" "),a("td",[a("code",[t._v("IdConverterDefinition")])]),t._v(" "),a("td",[t._v("Id转换器配置")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("YAML 配置样例")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cosid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("spring.application.name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("segment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" chain\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("chain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("safe-distance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefetch-worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("core-pool-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefetch-period")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1s\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("distributor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("share")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("offset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("converter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cosid_\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" radix\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("radix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("char-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pad-start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("provider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("offset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("step")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=v.exports}}]);